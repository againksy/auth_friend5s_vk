(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(3),o=a.n(r),s=(a(16),a(4)),l=a(5),c=a(9),d=a(6),m=a(10),f=a(8),_=a(7),p=a.n(_),h=(a(18),new f.a),u=Object({NODE_ENV:"production",PUBLIC_URL:"/auth_friend5s_vk"}).REACT_APP_PUBLIC_URL?Object({NODE_ENV:"production",PUBLIC_URL:"/auth_friend5s_vk"}).REACT_APP_PUBLIC_URL:"/auth_friend5s_vk/";var v=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).setRef=function(e){return a.widgetValue=e},a.initWidget=function(){var e=document.createElement("div");a.widgetValue.appendChild(e),e.appendChild(document.createRange().createContextualFragment('<div>\n                  <script type="text/javascript">\n                    VK.Widgets.Auth("vk_auth", {"authUrl":"'.concat(u,'"});\n                  <\/script>\n                </div>\n              ')).firstChild)};var n=h.get("friends_vk_app_6716385");return a.state={friends_info:{},showLogin:!n},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=h.get("friends_vk_app_6716385"),a=!t||!t.first_name;a&&this.initWidget();var n=new URLSearchParams(window.location.search),i=n.get("first_name");if(i){if(a){var r=n.get("uid"),o=n.get("last_name"),s=n.get("photo"),l=n.get("photo_rec"),c=n.get("hash");h.set("friends_vk_app_6716385",{uid:r,first_name:i,last_name:o,photo:s,photo_rec:l,hash:c},{path:u,maxAge:3456e3})}window.location.href=u}void 0===typeof window.VK||a||(this.setState({friendsLoading:!0}),window.VK.Api.call("friends.get",{fields:"photo_rec",v:5.85},function(t){e.setState({friends_info:t.response,friendsLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.showLogin,a=e.friends_info,n=e.friendsLoading,r=a.items,o=[];Array.isArray(r)&&(o=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}(r).slice(0,5));var s=h.get("friends_vk_app_6716385")||{},l=s.first_name,c=s.last_name,d=s.uid;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{style:{display:t?"initial":"none"}},i.a.createElement("div",{id:"vk_auth"}),i.a.createElement("div",{ref:this.setRef})),i.a.createElement("div",{style:{display:t?"none":"initital"}},i.a.createElement("div",{className:"App-header_title"},i.a.createElement("span",{className:"Aht_you"},"\u042d\u0442\u043e \u0412\u044b:"),i.a.createElement("a",{href:"http://vk.com/id"+d,target:"_blank",rel:"noopener noreferrer",className:"Aht_cur-user-name"},i.a.createElement("span",null,l),i.a.createElement("span",null,c))),i.a.createElement("div",{className:"App-header_logout",onClick:function(e){h.remove("friends_vk_app_6716385",{path:u}),window.location.href=u}},"Logout"))),n&&i.a.createElement("img",{src:p.a,className:"friends-loading",alt:"logo"}),!t&&i.a.createElement("ul",{className:"friends-list"},o&&o.map(function(e,t){return i.a.createElement("li",{className:"friends-list_item",key:t},i.a.createElement("a",{className:"friends-list_item-link",href:"http://vk.com/id"+e.id,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("span",{className:"flil_friend-cell",title:e.first_name},e.first_name),i.a.createElement("span",{className:"flil_friend-cell",title:e.last_name},e.last_name),i.a.createElement("img",{className:"flil_friend-cell",alt:"",src:"".concat(e.photo_rec)})))})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[11,2,1]]]);
//# sourceMappingURL=main.d0aa635d.chunk.js.map